#summary How to run Zookeeper-UpRight

= Download =
  First, you need to download Zookeeper-UpRight and decompress it. Concurrently, we provide three versions of Zookeeper using blocking snapshot, Primary-Backup snapshot and COW snapshot.

= Configuration =
  # UpRight must be configured properly. See [UpRightConfigurationExecution UpRight Configuration]. 
  # Zookeeper also needs to be configured properly. See [http://hadoop.apache.org/zookeeper/docs/current/zookeeperAdmin.html#sc_configuration Zookeeper Administrator's Guide]. We've provided a sample configuration. Notice: Cluster options are not used in Zookeeper-UpRight.
  

= Run Zookeeper-UpRight =
  You can run it manually or use our script. If you put Zookeeper-UpRight files in different directories on different machines, then you need to do this manually. Otherwise, you can use our script.
== Run manually ==
  * Start UpRight Core as described in [UpRightConfigurationExecution UpRight Configuration].
  * Start Zookeeper server (id is the integer identifier of the server. For the first server, it should be 0. For the second one, it's 1, etc. current.properties is the UpRight configuration file and zoo_sample.cfg is the Zookeeper configuration file. You need to run this command on all the server machines): 
{{{
java -Djava.library.path=. -cp conf:zookeeper-dev.jar:log4j-1.2.15.jar:bft.jar:FlexiCoreProvider-1.6p3.signed.jar:CoDec-build17-jdk13.jar 
org.apache.zookeeper.server.quorum.QuorumPeerMain id current.properties conf/zoo_sample.cfg
}}}
  
  * Start client: this depends on your application.
== Run the script ==
  We've provided a script start_replicated.sh to start all the server nodes, including UpRight Core nodes and Zookeepr server nodes. Still you need to generate membership file current.properties first, and then you need to modify configuration.sh for basic configurations, mainly including some directory information, and then you can execute start_replicated.sh. Finally, you can go to your first client machine to run generate_data.sh for a test. If it succeeds, then it is OK. Run stop_servers.sh to kill all server nodes.